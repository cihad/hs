<%= simple_form_for @node,
      html: { class: 'form-horizontal' },
      wrapper_mappings: {
        check_boxes: :horizontal_radio_and_checkboxes,
        radio_buttons: :horizontal_radio_and_checkboxes,
        file: :horizontal_file_input,
        boolean: :horizontal_boolean
      } do |f| %>

  <%= f.error_notification %>

  <%= f.input :title, autofocus: true %>

  <%= f.input :tldr, as: :text %>

  <%= f.input :body, as: :text, input_html: { rows: 10 } %>

  <%= f.input :tag_list %>

  <div class="form-group">
    <%= f.label :images, class: "col-md-2 control-label" %>

    <div class="col-md-10">
      <div class="row">
        <%= f.fields_for :node_images do |ni| %>
          <div class="col-md-3">
            <%= ni.fields_for :image do |i| %>
              <% if i.object.persisted? %>
                <%= render 'images/persisted_image_form_field', i: i, ni: ni %>
              <% else %>
                <%= render 'images/image_form_field', i: i %>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>

    </div>
  </div>


  <%= submit_button f: f %>

<% end %>